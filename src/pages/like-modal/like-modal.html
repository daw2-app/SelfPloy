<ion-header>
  <ion-navbar color="primary">
    <ion-title>Assessment</ion-title>
    <button ion-button block (click)="backToProfile()">Back</button>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-card>
    <form [formGroup]="userForm" (ngSubmit)="saveOpinion()">
      <ion-list>
        <ion-item>
          <ion-icon name="card" item-start></ion-icon>
          <ion-label stacked>To:</ion-label>
          <ion-input formControlName="userTo" type="text" value="{{user.name}}"></ion-input>
        </ion-item>
        <ion-item>
          <ion-icon name="card" item-start></ion-icon>
          <ion-label stacked>Assessment:</ion-label>
          <ion-textarea formControlName="text" rows="4" cols="10" type="text"></ion-textarea>
        </ion-item>
        <ion-item *ngIf="userForm.get('text').errors && userForm.get('text').dirty">
          <p color="danger" ion-text *ngIf="userForm.get('text').hasError('required')">Field is required</p>
          <p color="danger" ion-text *ngIf="userForm.get('text').hasError('minlength')">Min of 10 characters</p>
          <p color="danger" ion-text *ngIf="userForm.get('text').hasError('maxlength')">Max of 100 characters</p>
        </ion-item>
      </ion-list>
      <div padding>
        <button ion-button block type="submit" [disabled]="!userForm.valid">Update</button>
      </div>
    </form>
  </ion-card>
</ion-content>
